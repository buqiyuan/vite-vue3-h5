import{d as e,r as t,e as a,f as l,w as i,o,z as s,a as c,b as n,c as r,n as u,T as d,g as p,A as m,B as f,m as v,t as b,i as g,j as h,F as w,s as y,l as x,k as j,x as _,p as E,_ as z}from"./index-d996e3ab.js";import{u as S,a as k,G as C,b as L}from"./index-cda1218d.js";import{c as P,t as B,n as I,d as T,q as M,w as F,a as O,A as $,o as D,f as X,g as Y,C as A,D as H,E as R,p as q,x as G,m as U,H as W,I as J,F as K,G as N,i as Q}from"./index-e2ae0122.js";const[V,Z]=P("swipe"),ee={loop:B,width:I,height:I,vertical:Boolean,autoplay:T(0),duration:T(500),touchable:B,lazyRender:Boolean,initialSwipe:T(0),indicatorColor:String,showIndicators:B,stopPropagation:B},te=Symbol(V);const ae=q(e({name:V,props:ee,emits:["change","dragStart","dragEnd"],setup(e,{emit:d,slots:p}){const m=t(),f=t(),v=a({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let b=!1;const g=S(),{children:h,linkChildren:w}=M(te),y=l((()=>h.length)),x=l((()=>v[e.vertical?"height":"width"])),j=l((()=>e.vertical?g.deltaY.value:g.deltaX.value)),_=l((()=>{if(v.rect){return(e.vertical?v.rect.height:v.rect.width)-x.value*y.value}return 0})),E=l((()=>x.value?Math.ceil(Math.abs(_.value)/x.value):y.value)),z=l((()=>y.value*x.value)),C=l((()=>(v.active+y.value)%y.value)),L=l((()=>{const t=e.vertical?"vertical":"horizontal";return g.direction.value===t})),P=l((()=>{const t={transitionDuration:"".concat(v.swiping?0:e.duration,"ms"),transform:"translate".concat(e.vertical?"Y":"X","(").concat(+v.offset.toFixed(2),"px)")};if(x.value){const a=e.vertical?"height":"width",l=e.vertical?"width":"height";t[a]="".concat(z.value,"px"),t[l]=e[l]?"".concat(e[l],"px"):""}return t})),B=(t,a=0)=>{let l=t*x.value;e.loop||(l=Math.min(l,-_.value));let i=a-l;return e.loop||(i=R(i,_.value,0)),i},I=({pace:t=0,offset:a=0,emitChange:l})=>{if(y.value<=1)return;const{active:i}=v,o=(t=>{const{active:a}=v;return t?e.loop?R(a+t,-1,y.value):R(a+t,0,E.value):a})(t),s=B(o,a);if(e.loop){if(h[0]&&s!==_.value){const e=s<_.value;h[0].setOffset(e?z.value:0)}if(h[y.value-1]&&0!==s){const e=s>0;h[y.value-1].setOffset(e?-z.value:0)}}v.active=o,v.offset=s,l&&o!==i&&d("change",C.value)},T=()=>{v.swiping=!0,v.active<=-1?I({pace:y.value}):v.active>=y.value&&I({pace:-y.value})},q=()=>{T(),g.reset(),A((()=>{v.swiping=!1,I({pace:1,emitChange:!0})}))};let G;const U=()=>clearTimeout(G),W=()=>{U(),+e.autoplay>0&&y.value>1&&(G=setTimeout((()=>{q(),W()}),+e.autoplay))},J=(t=+e.initialSwipe)=>{if(!m.value)return;const a=()=>{var a,l;if(!Y(m)){const t={width:m.value.offsetWidth,height:m.value.offsetHeight};v.rect=t,v.width=+(null!=(a=e.width)?a:t.width),v.height=+(null!=(l=e.height)?l:t.height)}y.value&&-1===(t=Math.min(y.value-1,t))&&(t=y.value-1),v.active=t,v.swiping=!0,v.offset=B(t),h.forEach((e=>{e.setOffset(0)})),W()};Y(m)?u().then(a):a()},K=()=>J(v.active);let N;const Q=t=>{!e.touchable||t.touches.length>1||(g.start(t),b=!1,N=Date.now(),U(),T())},V=()=>{if(!e.touchable||!v.swiping)return;const t=Date.now()-N,a=j.value/t;if((Math.abs(a)>.25||Math.abs(j.value)>x.value/2)&&L.value){const t=e.vertical?g.offsetY.value:g.offsetX.value;let a=0;a=e.loop?t>0?j.value>0?-1:1:0:-Math[j.value>0?"ceil":"floor"](j.value/x.value),I({pace:a,emitChange:!0})}else j.value&&I({pace:0});b=!1,v.swiping=!1,d("dragEnd",{index:C.value}),W()},ee=(t,a)=>{const l=a===C.value,i=l?{backgroundColor:e.indicatorColor}:void 0;return r("i",{style:i,class:Z("indicator",{active:l})},null)};return k({prev:()=>{T(),g.reset(),A((()=>{v.swiping=!1,I({pace:-1,emitChange:!0})}))},next:q,state:v,resize:K,swipeTo:(t,a={})=>{T(),g.reset(),A((()=>{let l;l=e.loop&&t===y.value?0===v.active?0:t:t%y.value,a.immediate?A((()=>{v.swiping=!1})):v.swiping=!1,I({pace:l-v.active,emitChange:!0})}))}}),w({size:x,props:e,count:y,activeIndicator:C}),i((()=>e.initialSwipe),(e=>J(+e))),i(y,(()=>J(v.active))),i((()=>e.autoplay),W),i([F,O,()=>e.width,()=>e.height],K),i($(),(e=>{"visible"===e?W():U()})),o(J),s((()=>J(v.active))),D((()=>J(v.active))),c(U),n(U),X("touchmove",(t=>{if(e.touchable&&v.swiping&&(g.move(t),L.value)){!e.loop&&(0===v.active&&j.value>0||v.active===y.value-1&&j.value<0)||(H(t,e.stopPropagation),I({offset:j.value}),b||(d("dragStart",{index:C.value}),b=!0))}}),{target:f}),()=>{var t;return r("div",{ref:m,class:Z()},[r("div",{ref:f,style:P.value,class:Z("track",{vertical:e.vertical}),onTouchstartPassive:Q,onTouchend:V,onTouchcancel:V},[null==(t=p.default)?void 0:t.call(p)]),p.indicator?p.indicator({active:C.value,total:y.value}):e.showIndicators&&y.value>1?r("div",{class:Z("indicators",{vertical:e.vertical})},[Array(y.value).fill("").map(ee)]):void 0])}}})),[le,ie]=P("swipe-item");const oe=q(e({name:le,setup(e,{slots:t}){let i;const s=a({offset:0,inited:!1,mounted:!1}),{parent:c,index:n}=G(te);if(!c)return;const d=l((()=>{const e={},{vertical:t}=c.props;return c.size.value&&(e[t?"height":"width"]="".concat(c.size.value,"px")),s.offset&&(e.transform="translate".concat(t?"Y":"X","(").concat(s.offset,"px)")),e})),p=l((()=>{const{loop:e,lazyRender:t}=c.props;if(!t||i)return!0;if(!s.mounted)return!1;const a=c.activeIndicator.value,l=c.count.value-1,o=0===a&&e?l:a-1,r=a===l&&e?0:a+1;return i=n.value===a||n.value===o||n.value===r,i}));return o((()=>{u((()=>{s.mounted=!0}))})),k({setOffset:e=>{s.offset=e}}),()=>{var e;return r("div",{class:ie(),style:d.value},[p.value?null==(e=t.default)?void 0:e.call(t):null])}}})),[se,ce]=P("tag");const ne=q(e({name:se,props:{size:String,mark:Boolean,show:B,type:U("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean},emits:["close"],setup(e,{slots:t,emit:a}){const l=e=>{e.stopPropagation(),a("close",e)},i=()=>{var a;const{type:i,mark:o,plain:s,round:c,size:n,closeable:u}=e,d={mark:o,plain:s,round:c};n&&(d[n]=n);const p=u&&r(J,{name:"cross",class:[ce("close"),W],onClick:l},null);return r("span",{style:e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},class:ce([d,i])},[null==(a=t.default)?void 0:a.call(t),p])};return()=>r(d,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?i():null]})}})),[re,ue]=P("image");const de=q(e({name:re,props:{src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:I,height:I,radius:I,lazyLoad:Boolean,iconSize:I,showError:B,errorIcon:U("photo-fail"),iconPrefix:String,showLoading:B,loadingIcon:U("photo")},emits:["load","error"],setup(e,{emit:a,slots:s}){const c=t(!1),d=t(!0),b=t(),{$Lazyload:g}=p().proxy,h=l((()=>{const t={width:K(e.width),height:K(e.height)};return N(e.radius)&&(t.overflow="hidden",t.borderRadius=K(e.radius)),t}));i((()=>e.src),(()=>{c.value=!1,d.value=!0}));const w=e=>{d.value&&(d.value=!1,a("load",e))},y=()=>{const e=new Event("load");Object.defineProperty(e,"target",{value:b.value,enumerable:!0}),w(e)},x=e=>{c.value=!0,d.value=!1,a("error",e)},j=(t,a,l)=>l?l():r(J,{name:t,size:e.iconSize,class:a,classPrefix:e.iconPrefix},null),_=()=>{if(c.value||!e.src)return;const t={alt:e.alt,class:ue("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?m(r("img",v({ref:b},t),null),[[f("lazy"),e.src]]):r("img",v({ref:b,src:e.src,onLoad:w,onError:x},t),null)},E=({el:e})=>{const t=()=>{e===b.value&&d.value&&y()};b.value?t():u(t)},z=({el:e})=>{e!==b.value||c.value||x()};return g&&Q&&(g.$on("loaded",E),g.$on("error",z),n((()=>{g.$off("loaded",E),g.$off("error",z)}))),o((()=>{u((()=>{var t;(null==(t=b.value)?void 0:t.complete)&&!e.lazyLoad&&y()}))})),()=>{var t;return r("div",{class:ue({round:e.round,block:e.block}),style:h.value},[_(),d.value&&e.showLoading?r("div",{class:ue("loading")},[j(e.loadingIcon,ue("loading-icon"),s.loading)]):c.value&&e.showError?r("div",{class:ue("error")},[j(e.errorIcon,ue("error-icon"),s.error)]):void 0,null==(t=s.default)?void 0:t.call(s)])}}})),[pe,me]=P("card");const fe=q(e({name:pe,props:{tag:String,num:I,desc:String,thumb:String,title:String,price:I,centered:Boolean,lazyLoad:Boolean,currency:U("¥"),thumbLink:String,originPrice:I},emits:["clickThumb"],setup(e,{slots:t,emit:a}){const l=()=>{if(t.tag||e.tag)return r("div",{class:me("tag")},[t.tag?t.tag():r(ne,{mark:!0,type:"primary"},{default:()=>[e.tag]})])},i=()=>{if(t.thumb||e.thumb)return r("a",{href:e.thumbLink,class:me("thumb"),onClick:e=>a("clickThumb",e)},[t.thumb?t.thumb():r(de,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),l()])},o=()=>{const t=e.price.toString().split(".");return r("div",null,[r("span",{class:me("price-currency")},[e.currency]),r("span",{class:me("price-integer")},[t[0]]),b("."),r("span",{class:me("price-decimal")},[t[1]])])};return()=>{var a,l,s;const c=t.num||N(e.num),n=t.price||N(e.price),u=t["origin-price"]||N(e.originPrice),d=c||n||u||t.bottom,p=n&&r("div",{class:me("price")},[t.price?t.price():o()]),m=u&&r("div",{class:me("origin-price")},[t["origin-price"]?t["origin-price"]():"".concat(e.currency," ").concat(e.originPrice)]),f=c&&r("div",{class:me("num")},[t.num?t.num():"x".concat(e.num)]),v=t.footer&&r("div",{class:me("footer")},[t.footer()]),b=d&&r("div",{class:me("bottom")},[null==(a=t["price-top"])?void 0:a.call(t),p,m,f,null==(l=t.bottom)?void 0:l.call(t)]);return r("div",{class:me()},[r("div",{class:me("header")},[i(),r("div",{class:me("content",{centered:e.centered})},[r("div",null,[t.title?t.title():e.title?r("div",{class:[me("title"),"van-multi-ellipsis--l2"]},[e.title]):void 0,t.desc?t.desc():e.desc?r("div",{class:[me("desc"),"van-ellipsis"]},[e.desc]):void 0,null==(s=t.tags)?void 0:s.call(t)]),b])]),v])}}})),ve=[{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/125678/35/5947/4868/5efbf28cEbf04a25a/e2bcc411170524f0.png.webp",title:"京东超市"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/135931/4/3281/5598/5efbf2c0Edbdc82c7/ed9861b4ddfb9f30.png.webp",title:"数码电器"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/140012/8/1804/3641/5efbf318E38bd5dad/0db99d859ab16ce9.png.webp",title:"京东服饰"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/129215/21/5978/3618/5efbf344Ebec23ae8/59712d986b10bb0a.png.webp",title:"京东生鲜"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/116602/7/11200/3796/5efbf375Ebba41029/f07cc166f368fa05.png.webp",title:"京东到家"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/146390/3/1846/4909/5efbf39aEe5f5f797/300071558a9ab078.png.webp",title:"充值缴费"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/150351/19/14167/6853/5fed882dE195ef673/b2aa7d67e675baf8.png.webp",title:"9.9元拼"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/113589/24/11332/4897/5efbf3feE705d87db/e5c12d5e943266b9.png.webp",title:"领券"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/131663/33/3380/3674/5efbf50fEf79cf314/af4b57d2383e605d.png.webp",title:"领金贴"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/123730/37/5924/4189/5efbf567E0a226121/d04df7c74c87cf68.png.webp",title:"PLUS会员"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/142596/7/1864/4759/5efbf5a9E60c62b8a/49cdd24cb2bfecf5.png.webp",title:"京东国际"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/125193/15/5993/3443/5efbf5dbEa3327124/a4282d5cb2879c8b.png.webp",title:"京东拍卖"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/133947/24/3428/4213/5efbf625E7e1b4e98/95fda84d8748f88d.png.webp",title:"唯品会"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/145692/9/1817/4493/5efbf652E61c4f3ec/722840c121d67fc6.png.webp",title:"玩3C"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/118396/30/11271/2692/5efbf680Eb3a3cf32/c3e85c4d99746400.png.webp",title:"沃尔玛"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/123571/19/6008/3747/5efbf6b2E03153a36/9ddc9036ba1c11a1.png.webp",title:"美妆馆"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/115003/18/11199/3519/5efbf6eaEe59cb7f6/dab44230606cd112.png.webp",title:"京东旅行"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/142258/17/1800/4509/5efbf70aEb23e164e/61aaea8fe5221081.png.webp",title:"拍拍二手"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/116056/30/11288/4223/5efbf753Ee7cf2cd7/3977b5fe42b136e4.png.webp",title:"物流查询"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/112559/35/11283/3523/5efbf774E285d108b/c0fa626df4979a21.png.webp",title:"全部"}],be=["src"],ge=z(e({name:"Home",__name:"index",setup(e){const t=["https://img.yzcdn.cn/vant/apple-1.jpg","https://img.yzcdn.cn/vant/apple-2.jpg"];return(e,a)=>{const l=oe,i=ae,o=C,s=L,c=fe;return x(),g(w,null,[r(i,{autoplay:3e3,"lazy-render":""},{default:h((()=>[(x(),g(w,null,y(t,(e=>r(l,{key:e},{default:h((()=>[j("img",{src:e},null,8,be)])),_:2},1024))),64))])),_:1}),r(i,{"lazy-render":"",loop:!1},{default:h((()=>[(x(),g(w,null,y(2,(e=>r(l,{key:e},{default:h((()=>[r(s,{square:"","column-num":5},{default:h((()=>[(x(!0),g(w,null,y(_(ve).slice(_(ve).length*(e-1)/2,_(ve).length*e/2),(e=>(x(),E(o,{key:e.title,icon:e.url,text:e.title},null,8,["icon","text"])))),128))])),_:2},1024)])),_:2},1024))),64))])),_:1}),(x(),g(w,null,y(20,(e=>r(c,{key:e,num:e,tag:"标签",price:e.toFixed(2),desc:"描述信息",title:"商品标题",thumb:"https://img.yzcdn.cn/vant/ipad.jpeg","origin-price":(10*e).toFixed(2)},null,8,["num","price","origin-price"]))),64))],64)}}}),[["__scopeId","data-v-efc69300"]]);export{ge as default};
